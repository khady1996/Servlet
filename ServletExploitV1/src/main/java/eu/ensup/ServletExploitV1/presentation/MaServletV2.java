package eu.ensup.ServletExploitV1.presentation;

import java.io.IOException;
import java.io.PrintWriter;

import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

/**
 * Servlet implementation class MaServletV2
 */
@WebServlet("/PageWeb")
public class MaServletV2 extends HttpServlet {
	private static final long serialVersionUID = 1L;

	/**
	 * @see HttpServlet#HttpServlet()
	 */
	public MaServletV2() {
		super();
		// TODO Auto-generated constructor stub
	}

	/**
	 * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse
	 *      response)
	 */
	@Override
	protected void doGet(HttpServletRequest request, HttpServletResponse response)
			throws ServletException, IOException {
		// TODO Auto-generated method stub
		String methode = request.getMethod();
		PrintWriter out = response.getWriter();
		out.println("<HTML>");
		out.println("<HEAD><TITLE>Exemple de 10 méthodes de l'interface HttpServletRequest </TITLE></HEAD>");
		out.println("<BODY>");
		// out.println("<CENTER>Liste des formations : JAVA, WEBSERVICES</CENTER>");
		out.println("<table>");
		out.println("<tr>");
		out.println("<td> Méthode </td>");
		out.println("<td> Description </td>");
		out.println("<td> Valeur retournée </td>");
		out.println("</tr>");
		out.println("<tr>");
		out.println("<td> 1- getSession() </td>");
		out.println("<td>  permet la récupération de la session actuelle assossiée à la requête </td>");
		out.println("<td>" + request.getSession() + "</td>");
		out.println("</tr>");
		out.println("<tr>");
		out.println("<td> 2- changeSessionId() </td>");
		out.println("<td> permet le changement de l'Id de cette session </td>");
		out.println("<td>" + request.changeSessionId() + "</td>");
		out.println("</tr>");
		out.println("<tr>");
		out.println("<td> 3- getRequestURI() </td>");
		out.println("<td>  permet la récupération de l'URL de la requête </td>");
		out.println("<td>" + request.getRequestURI() + "</td>");
		out.println("</tr>");
		out.println("<tr>");
		out.println("<td> 4- getQueryString() </td>");
		out.println("<td>  permet la récupération de la chaîne de requête contenue dans l'URL </td>");
		out.println("<td>" + request.getQueryString() + "</td>");
		out.println("</tr>");
		out.println("<tr>");
		out.println("<td> 5- getPathInfo() </td>");
		out.println("<td>  permet la récupération des informations supplémentaires associées à l'URL envoyée </td>");
		out.println("<td>" + request.getPathInfo() + "</td>");
		out.println("</tr>");
		out.println("<tr>");
		out.println("<td> 6- getRemotePort() </td>");
		out.println("<td>  permet la récupération du port du client demandeur </td>");
		out.println("<td>" + request.getRemotePort() + "</td>");
		out.println("</tr>");
		out.println("<tr>");
		out.println("<td> 7- getLocalPort()  </td>");
		out.println("<td>  permet la récupération du port de l'interface sur laquelle la demande a été reçue </td>");
		out.println("<td>" + request.getLocalPort() + "</td>");
		out.println("</tr>");
		out.println("<tr>");
		out.println("<td> 8- getContextPath()  </td>");
		out.println(
				"<td>  permet la récupération de la partie de l'URI de la demande qui indique le contexte de la demande </td>");
		out.println("<td>" + request.getContextPath() + "</td>");
		out.println("</tr>");
		out.println("<tr>");
		out.println("<td> 9- getCharacterEncoding() </td>");
		out.println(
				"<td> permet la récupération du  nom du codage de caractères utilisé dans le corps de cette demande </td>");
		out.println("<td>" + request.getCharacterEncoding() + "</td>");
		out.println("</tr>");
		out.println("<tr>");
		out.println("<td> 10- getLocalAddr() </td>");
		out.println(
				"<td>  permet la récupération de l'adresse IP de l'interface sur laquelle la demande a été reçue </td>");
		out.println("<td>" + request.getLocalAddr() + "</td>");
		out.println("</tr>");
		out.println("</table>");
		out.println("</BODY>");
		out.println("</HTML>");
	}

	/**
	 * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse
	 *      response)
	 */
	@Override
	protected void doPost(HttpServletRequest request, HttpServletResponse response)
			throws ServletException, IOException {
		// TODO Auto-generated method stub
		this.doGet(request, response);
	}

}
